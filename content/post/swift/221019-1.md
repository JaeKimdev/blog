---
title: "Table View"
date: 2022-10-19T20:19:54+08:00

categories:
  - Dev
  -  #Review

tags:
  - swift
  - tableView

image: https://res.cloudinary.com/dwrejmale/image/upload/v1658929900/swift_dpaoqx.png #the-creative-exchange-d2zvqp3fpro-unsplash.jpg
---

## UITableView

í…Œì´ë¸” ë·°ëŠ” í•˜ë‚˜ì˜ ì»¬ëŸ¼ì•ˆì— ìˆ˜ì§ìœ¼ë¡œ ìŠ¤í¬ë¡¤ ë˜ëŠ” ì—¬ëŸ¬ê°œì˜ Sectionê³¼ rowì„ ê°€ì§„ë‹¤.

![img](post/swift/221019-1.png)
ì™¼ìª½ ì´ë¯¸ì§€ì™€ ê°™ì´ í•˜ë‚˜ì˜ ì„¹ì…˜ì•ˆì— ì—¬ëŸ¬ê°œì˜ rowê°€ ìžˆì„ ìˆ˜ë„ ìžˆê³ , ì˜¤ë¥¸ìª½ ì´ë¯¸ì§€ì²˜ëŸ¼ ì—¬ëŸ¬ê°œì˜ ì„¹ì…˜ì•ˆì— ì—¬ëŸ¬ê°œì˜ rowê°€ ìžˆì„ ìˆ˜ë„ ìžˆë‹¤.

### Table Viewì˜ êµ¬ì„±ìš”ì†Œ

- Cell : í•˜ë‚˜ì˜ í–‰ì— í‘œí˜„ë  ë°ì´í„°ë¥¼ ë‹´ì•„ì£¼ëŠ” ì—­í• 
- TableView Controller : í…Œì´ë¸” ë·°ë¥¼ ê´€ë¦¬í•˜ëŠ” ê°ì²´
- DataSource : í…Œì´ë¸” ë·°ì˜ ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ëŠ” ê°ì²´
- iew Delegate : í…Œì´ë¸” ë·°ì˜ í–‰ì„ ì„ íƒí•˜ê±°ë‚˜ íŽ¸ì§‘í•˜ëŠ” ë“±ì˜ í…Œì´ë¸” ë·°ì˜ í–‰ë™ì„ ê´€ë¦¬í•˜ëŠ” ê°ì²´

## UITableViewCell

í…Œì´ë¸” ë·°ì—ì„œ ë‹¨ì¼ í–‰ì„ ê´€ë¦¬í•˜ëŠ” ê°ì²´

![img](post/swift/221019-2.png)

- ì…€ ì„ íƒ, ê°•ì¡° ìƒ‰ìƒ ì ìš©
- detail ì´ë‚˜ disclosure controlê³¼ ê°™ì€ accessory views ì¶”ê°€ ê°€ëŠ¥
- íŽ¸ì§‘ ê°€ëŠ¥í•œ ìƒíƒœë¡œ ë§Œë“¤ê¸°
- ë“¤ì—¬ì“°ê¸° í•´ì„œ í…Œì´ë¸”ì— ê³„ì¸µì  êµ¬ì¡° í‘œí˜„ ê°€ëŠ¥

## UITableViewDataSource

í…Œì´ë¸” ë·°ì˜ ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ëŠ” í”„ë¡œí† ì½œ

- í…Œì´ë¸”ì˜ sectionê³¼ rowì˜ ê°œìˆ˜ë¥¼ ë³´ê³ 
- í…Œì´ë¸”ì— í‘œì‹œí•  ê° rowì— í‘œì‹œí•  ì…€ì„ ì œê³µ
- sectionì˜ headerì™€ footerì˜ íƒ€ì´í‹€ì„ ì œê³µ

ì•„ëž˜ì˜ ë‘ ë©”ì„œë“œëŠ” í•„ìˆ˜ë¡œ êµ¬í˜„í•´ì•¼ í•œë‹¤.

```swift
// Return the number of rows for the table.
override func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -> Int {
   return 0
}

// Provide a cell object for each row.
override func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -> UITableViewCell {
   // Fetch a cell of the appropriate type.
   let cell = tableView.dequeueReusableCell(withIdentifier: "cellTypeIdentifier", for: indexPath)

   // Configure the cellâ€™s contents.
   cell.textLabel!.text = "Cell text"

   return cell
}
```

## UITableViewDelegate

ì„ íƒ í•­ëª©ì„ ê´€ë¦¬í•˜ê³  ì…€ì˜ í–‰ë™ì„ ê´€ë¦¬í•˜ëŠ” í”„ë¡œí† ì½œ

- custom headerë‚˜ footerë¥¼ ë§Œë“¤ê³  ê´€ë¦¬
- row, header, footerì˜ ë†’ì´ë¥¼ ì„¤ì •
- rowë¥¼ ì„ íƒí•˜ê±°ë‚˜ ë‚´ìš© ë“¤ì—¬ì“°ê¸° ë“±ì˜ í–‰ë™ì„ ê´€ë¦¬

í…Œì´ë¸” ë·°ëŠ” indexPathë¥¼ ì‚¬ìš©í•˜ì—¬ í–‰ê³¼ ì„¹ì…˜ì„ ì‹ë³„í•˜ê³  `row`ì™€ `section` í”„ë¡œí¼í‹°ë¥¼ ì‚¬ìš©
![img](post/swift/221019-3.png)

## Filling a table with data

### Provide the numbers of rows and sections

í™”ë©´ì— í‘œì‹œë˜ê¸° ì „ í…Œì´ë¸” ë·°ëŠ” ì„¹ì…˜ê³¼ í–‰ì˜ ê°œìˆ˜ë¥¼ ì§€ì •í•´ì•¼ í•œë‹¤. ì´ë¥¼ ìœ„í•´ DataSourceëŠ”`numberOfRowsInSection`ê³¼ `numberOfSections` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ ì •ë³´ë¥¼ ì œê³µí•œë‹¤.

```swift
// Sectionì˜ ê°œìˆ˜ë¥¼ ë°˜í™˜(ê¸°ë³¸ê°’ì€ 1)
func numberOfSections(in tableView: UITableView) -> Int  // Optional
// rowì˜ ê°œìˆ˜ë¥¼ ë°˜í™˜
func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -> Int
```

ì•„ëž˜ì˜ ì˜ˆì œë¥¼ ì‚´íŽ´ë³´ìž.

```swift
// [["0-1", "0-2", "0-3"], ["1-1", "1-2", "1-3"], ["2-1", "2-2", "2-3"]]ê³¼ ê°™ì€ í˜•íƒœì˜ ë°ì´í„°ë¥¼ ê°€ì§€ê³  ìžˆë‹¤ê³  ê°€ì •
var hierarchicalData = [[String]]()

// Sectionì˜ ê°œìˆ˜ë¥¼ ë°˜í™˜(ì˜ˆì œì—ì„œëŠ” 3ê°œ)
override func numberOfSections(in tableView: UITableView) -> Int {
   return hierarchicalData.count
}

//í•´ë‹¹ ì„¹ì…˜ì˜ rowì˜ ê°œìˆ˜ë¥¼ ë°˜í™˜(ì˜ˆì œì—ì„œëŠ” 3ê°œ)
override func tableView(_ tableView: UITableView,
                        numberOfRowsInSection section: Int) -> Int {
   return hierarchicalData[section].count
}
```

### Define the appearance of rows

cellì„ ì‚¬ìš©í•˜ì—¬ ìŠ¤í† ë¦¬ë³´ë“œì—ì„œ rowë¥¼ ì •ì˜í•  ìˆ˜ ìžˆë‹¤.  
`UITableViewCell`ì„ `UITableView`ì— ì¶”ê°€í•˜ë©´ í•˜ë‚˜ì˜ í”„ë¡œí† íƒ€ìž… ì…€ì´ ìƒì„±ë˜ê³ , ì…€ì˜ `Identifier`ë¥¼ ì§€ì •í•˜ì—¬ ì…€ì„ ì‹ë³„í•  ìˆ˜ ìžˆë‹¤.

ì´ ì…€ì„ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•˜ë ¤ë©´ `UITableViewCell`ì˜ ì„œë¸Œí´ëž˜ìŠ¤ë¥¼ ë§Œë“¤ê³  ìŠ¤í† ë¦¬ë³´ë“œì—ì„œ ì…€ì„ ì¶”ê°€í•˜ê³  í´ëž˜ìŠ¤ë¥¼ ì§€ì •í•´ ì£¼ë©´ ëœë‹¤.

![img](post/swift/221019-4.png)

### Create and configure cells for each row

í…Œì´ë¸” ë·°ê°€ í™”ë©´ì— ë‚˜íƒ€ë‚˜ê¸° ì „ì— ë°ì´í„° ì†ŒìŠ¤ ê°ì²´ì— í…Œì´ë¸”ì— ë³´ì—¬ì§€ëŠ” ë¶€ë¶„ê³¼ ì£¼ë³€ì˜ ì…€ì„ ì œê³µí•˜ë„ë¡ ìš”ì²­í•´ì•¼ í•œë‹¤.
ë°ì´í„°ì†ŒìŠ¤ ê°ì²´ëŠ” `tableView(_:cellForRowAt:)` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì…€ì„ ì œê³µí•œë‹¤.

- í…Œì´ë¸” ë·°ì˜ `dequeueReusableCell(withIdentifier:for:)` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì…€ì„ ê°€ì ¸ì˜¨ë‹¤.
- ì•±ì˜ ì»¤ìŠ¤í…€ ë°ì´í„°ë¥¼ ê°€ì§€ê³  ì…€ì˜ ë·°ë¥¼ êµ¬ì„±í•œë‹¤.
- í…Œì´ë¸” ë·°ì— ì…€ì„ ë°˜í™˜í•œë‹¤.

ðŸ’¡ ì£¼ì˜ì‚¬í•­â—ï¸  
ë©”ëª¨ë¦¬ë¥¼ ì ˆì•½í•˜ê¸° ìœ„í•´ í…Œì´ë¸” ë·°ì™€ ì£¼ë³€ì˜ ëª‡ê°œì˜ ì…€ë§Œ ìƒì„±í•˜ê³  ì…€ì„ ìž¬ì‚¬ìš©í•˜ê²Œ ë˜ëŠ”ë°, ì´ê²ƒì€ ê³§ ë°ì´í„°ì†ŒìŠ¤ ê°ì²´ê°€ ì…€ì„ ë¹ ë¥´ê²Œ ìƒì„±í•˜ê³  ë°˜í™˜í•´ì•¼ í•œë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.  
âž¡ï¸ `tableView(_:cellForRowAt:)` ë©”ì„œë“œëŠ” í…Œì´ë¸” ë·°ê°€ ì…€ì„ ìš”ì²­í•  ë•Œë§ˆë‹¤ í˜¸ì¶œë˜ê¸° ë•Œë¬¸ì— ë©”ì„œë“œ ì•ˆì— í…Œì´ë¸”ì˜ ë°ì´í„°ë¥¼ ë¡œë“œí•˜ê±°ë‚˜ ê¸´ ìž‘ì—…ì„ ìˆ˜í–‰í•˜ì§€ ë§ì•„ì•¼ í•œë‹¤.

## ì˜ˆì œ

![img](post/swift/221019-5.png)
ìŠ¤í† ë¦¬ë³´ë“œì— í…Œì´ë¸”ë·°ë¥¼ ì¶”ê°€í•˜ê³  ì‚¬ë°©ìœ¼ë¡œ ì œì•½ì„ 0ìœ¼ë¡œ ê±¸ì–´ì¤€ë‹¤.  
`Basic` ìŠ¤íƒ€ì¼ì˜ ì…€ì„ í•˜ë‚˜ ì¶”ê°€í•˜ê³  `Identifier`ë¥¼ `cell`ë¡œ ì§€ì •í•´ì¤€ë‹¤.

![img](post/swift/221019-6.png)
extensionì„ ì‚¬ìš©í•˜ì—¬ `UITableViewDataSource`ë¥¼ ì±„íƒí•˜ê³   
í•„ìˆ˜ ë©”ì„œë“œì¸ `numberOfRowsInSection`ê³¼ `cellForRowAt` ë©”ì„œë“œë¥¼ êµ¬í˜„í•´ì¤€ë‹¤.  
rowì˜ ê°œìˆ˜ëŠ” 3ê°œ, `numberOfSections` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¹ì…˜ë„ 9ê°œë¡œ ë§Œë“¤ì–´ ì£¼ì—ˆë‹¤.
`numberOfRowsInSection` ë©”ì„œë“œì—ì„œ cellì˜ ë ˆì´ë¸”ì— ì„¹ì…˜ê³¼ rowì˜ ì •ë³´ë¥¼ ë„£ì–´ì£¼ì—ˆë‹¤.

![img](post/swift/221019-7.png)
extensionì„ ì‚¬ìš©í•˜ì—¬ `UITableViewDelegate`ë¥¼ ì±„íƒí•˜ê³   
ì…€ì´ ì„ íƒë˜ì—ˆì„ ë•Œ ì‹¤í–‰ë˜ëŠ” `didSelectRowAt` ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ì—¬ ì½˜ì†”ì— ì„ íƒëœ ì…€ì˜ ì •ë³´ë¥¼ ì¶œë ¥í•´ ì£¼ì—ˆë‹¤.
25ë²ˆì§¸ ì¤„ì—ì„œ `deselctRow` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì„ íƒëœ ì…€ì„ í•´ì œí•´ ì£¼ì—ˆë‹¤.

`heightForRowAt` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì…€ì˜ ë†’ì´ë¥¼ ì§€ì •í•´ ì¤„ ìˆ˜ë„ ìžˆëŠ”ë° ì—¬ê¸°ì—ì„œëŠ” ì…€ì˜ ë†’ì´ë¥¼ 200ìœ¼ë¡œ ì§€ì •í•´ ì£¼ì—ˆë‹¤.

```swift
import UIKit

final class ViewController: UIViewController{

    @IBOutlet private weak var tableView: UITableView!
    let cellIdentifier: String = "cell"

    override func viewDidLoad() {
        super.viewDidLoad()
    }
}
extension ViewController: UITableViewDelegate {

    func tableView(_ tableView: UITableView,
                   didSelectRowAt indexPath: IndexPath) {
        print("ì…€ì´ í´ë¦­ë˜ì—ˆë‹¤! section: \(indexPath.section), row: \(indexPath.row)")

        tableView.deselectRow(at: indexPath, animated: true)
    }

    func tableView(_ tableView: UITableView,
                   heightForRowAt indexPath: IndexPath) -> CGFloat {
        return 200
    }

}

extension ViewController: UITableViewDataSource {
    func numberOfSections(in tableView: UITableView) -> Int {
        return 9
    }

    func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -> Int {
        return 3
    }

    func tableView(_ tableView: UITableView,
                   cellForRowAt indexPath: IndexPath) -> UITableViewCell {

        let cell: UITableViewCell = tableView.dequeueReusableCell(
            withIdentifier: self.cellIdentifier, for: indexPath)

        cell.textLabel?.text = "\(indexPath.section), \(indexPath.row)"
        return cell
    }
}
```

## Reference

[Swift Documentation - UITableView](https://developer.apple.com/documentation/uikit/uitableview)  
[Swift Documentation - UITableViewCell](https://developer.apple.com/documentation/uikit/uitableviewcell)  
[Swift Documentation - UITableViewDataSource](https://developer.apple.com/documentation/uikit/uitableviewdatasource)  
[Swift Documentation - UITableViewDelegate](https://developer.apple.com/documentation/uikit/uitableviewdelegate)  
[Filling a table with data](https://developer.apple.com/documentation/uikit/views_and_controls/table_views/filling_a_table_with_data)  
[Configuring the cells for your table](https://developer.apple.com/documentation/uikit/views_and_controls/table_views/configuring_the_cells_for_your_table)
